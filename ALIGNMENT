UFRAME_NUM=1 ;
UTOOL_NUM=1 ;
DO[1]=OFF ;
DO[6]=OFF ;
DO[2]=ON ;
R[3]=18 ;
R[4]=R[10] ;
R[55]=18 ;
SKIP CONDITION DI[41]=ON ;
IF (DO[17]=ON) THEN ;
JMP LBL[101] ;
ELSE ;
IF (DO[18]=ON) THEN ;
CALL ALIGNMENT_2 ;
JMP LBL[110] ;
ENDIF ;
ENDIF ;
;
LBL[101] ;
IF (DO[12]=ON) THEN ;
IF (R[2]=1 OR R[2]=2 OR R[2]=3 OR R[2]=4 OR R[2]=5 OR R[2]=6 OR R[2]=95 OR R[2]=94 OR R[2]=93 OR R[2]=92 OR R[2]=293 OR R[2]=294 OR R[2]=295 OR R[2]=206 OR R[2]=306) THEN ;
IF (R[2]=1) THEN ;
JMP LBL[1] ;
ENDIF ;
IF (R[2]=2) THEN ;
JMP LBL[2] ;
ENDIF ;
IF (R[2]=3) THEN ;
JMP LBL[3] ;
ENDIF ;
IF (R[2]=4) THEN ;
JMP LBL[4] ;
ENDIF ;
IF (R[2]=5) THEN ;
JMP LBL[5] ;
ENDIF ;
IF (R[2]=6) THEN ;
JMP LBL[6] ;
ENDIF ;
IF (R[2]=95) THEN ;
JMP LBL[95] ;
ENDIF ;
IF (R[2]=94) THEN ;
JMP LBL[94] ;
ENDIF ;
IF (R[2]=93) THEN ;
JMP LBL[93] ;
ENDIF ;
IF (R[2]=92) THEN ;
JMP LBL[92] ;
ENDIF ;
IF (R[2]=293) THEN ;
JMP LBL[293] ;
ENDIF ;
IF (R[2]=294) THEN ;
JMP LBL[294] ;
ENDIF ;
IF (R[2]=295) THEN ;
JMP LBL[295] ;
ENDIF ;
IF (R[2]=206) THEN ;
JMP LBL[206] ;
ENDIF ;
IF (R[2]=306) THEN ;
JMP LBL[306] ;
ENDIF ;
ELSE ;
JMP LBL[110] ;
ENDIF ;
ENDIF ;
IF (DO[9]=ON) THEN ;
R[2]=1 ;
ENDIF ;
IF (DO[10]=ON) THEN ;
R[2]=3 ;
ENDIF ;
IF (DO[20]=ON) THEN ;
R[2]=4 ;
ENDIF ;
IF (DO[21]=ON) THEN ;
R[2]=6 ;
ENDIF ;
IF (R[2]=1 OR R[2]=3 OR R[2]=4 OR R[2]=6) THEN ;
JMP LBL[999] ;
ELSE ;
CALL HOME ;
ENDIF ;
LBL[999] ;
$WAITTMOUT=300 ;
IF (R[2]=3) THEN ;
LBL[3] ;
J PR[3] R[52]% FINE ;
R[2]=3 ;
LBL[2] ;
J PR[2] R[52]% FINE ;
R[2]=2 ;
LBL[1] ;
J PR[1] R[52]% FINE ;
R[2]=1 ;
LBL[4] ;
L PR[4] R[51]mm/sec FINE ;
R[2]=4 ;
LBL[5] ;
L PR[5] R[50]mm/sec FINE ;
R[2]=5 ;
LBL[6] ;
L PR[6] R[53]mm/sec FINE ;
R[2]=6 ;
ENDIF ;
IF (R[2]=1) THEN ;
JMP LBL[1] ;
ENDIF ;
IF (R[2]=4) THEN ;
JMP LBL[4] ;
ENDIF ;
;
;
--ch:STAR
LBL[206] ;
L PR[6] R[51]mm/sec FINE ;
R[2]=206 ;
LBL[95] ;
L PR[95] R[51]mm/sec FINE ;
R[2]=95 ;
DO[3]=ON ;
WAIT DI[5]=ON ;
WAIT DI[41]=OFF ;
DO[3]=OFF ;
LBL[94] ;
SKIP CONDITION DI[41]=ON ;
L PR[94] R[51]mm/sec FINE Skip,LBL[901] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[901] ;
R[2]=94 ;
LBL[93] ;
SKIP CONDITION DI[41]=ON ;
L PR[93] 100mm/sec FINE Skip,LBL[902] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[902] ;
R[2]=93 ;
DO[4]=ON ;
DO[15]=OFF ;
DO[16]=ON ;
WAIT DI[6]=ON ;
DO[4]=OFF ;
LBL[92] ;
SKIP CONDITION DI[41]=ON ;
L PR[92] 100mm/sec FINE Skip,LBL[903] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[903] ;
R[2]=92 ;
DO[16]=OFF ;
DO[5]=ON ;
WAIT DI[7]=ON ;
DO[5]=OFF ;
LBL[293] ;
SKIP CONDITION DI[41]=ON ;
L PR[93] 100mm/sec FINE Skip,LBL[904] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[904] ;
R[2]=293 ;
DO[4]=ON ;
DO[15]=ON ;
;
WAIT RI[1]=ON AND RI[2]=ON TIMEOUT,LBL[102] ;
JMP LBL[103] ;
LBL[102] ;
DO[7]=ON ;
JMP LBL[103] ;
LBL[103] ;
WAIT DI[6]=ON OR DI[10]=ON ;
IF (DI[6]=ON) THEN ;
JMP LBL[104] ;
ELSE ;
IF (DI[10]=ON) THEN ;
JMP LBL[105] ;
ENDIF ;
ENDIF ;
;
LBL[105] ;
DO[15]=OFF ;
DO[16]=ON ;
SKIP CONDITION DI[41]=ON ;
L PR[92] 100mm/sec FINE Skip,LBL[905] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[905] ;
R[2]=92 ;
DO[16]=OFF ;
SKIP CONDITION DI[41]=ON ;
L PR[91] R[51]mm/sec FINE Skip,LBL[906] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[906] ;
R[2]=91 ;
L PR[6] R[51]mm/sec FINE ;
R[2]=6 ;
JMP LBL[110] ;
;
LBL[104] ;
LBL[294] ;
DO[4]=OFF ;
DO[11]=ON ;
SKIP CONDITION DI[41]=ON ;
L PR[94] 100mm/sec FINE Skip,LBL[907] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[907] ;
R[2]=294 ;
LBL[295] ;
SKIP CONDITION DI[41]=ON ;
L PR[95] R[51]mm/sec FINE Skip,LBL[908] ;
DO[22]=ON ;
WAIT UI[5:Fault reset]=ON ;
WAIT 2.00(sec) ;
JMP LBL[110] ;
LBL[908] ;
R[2]=295 ;
LBL[306] ;
L PR[6] R[51]mm/sec FINE ;
R[2]=306 ;
;
LBL[110] ;
DO[7]=OFF ;
DO[3]=OFF ;
DO[4]=OFF ;
DO[6]=ON ;
DO[12]=OFF ;
POS
END
